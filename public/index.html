<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>QD-STUDIO - Przysz≈Ço≈õƒá Twojego Serwera</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}
    body{
      min-height:100vh;
      background:
        radial-gradient(circle at top,rgba(56,189,248,.18),transparent 55%),
        radial-gradient(circle at 20% 80%,rgba(147,51,234,.2),transparent 60%),
        radial-gradient(circle at 80% 20%,rgba(34,197,94,.18),transparent 60%),
        #020617;
      color:#e5e7eb
    }
    a{text-decoration:none;color:inherit}
    nav{
      position:sticky;top:0;z-index:50;
      display:flex;align-items:center;justify-content:space-between;
      padding:10px 24px;
      background:linear-gradient(to right,rgba(15,23,42,.96),rgba(15,23,42,.9));
      backdrop-filter:blur(18px);
      border-bottom:1px solid rgba(148,163,184,.35)
    }
    .logo{font-weight:900;letter-spacing:.22em;font-size:.85rem;text-transform:uppercase;color:#e5e7eb}
    .nav-links{display:flex;align-items:center;gap:10px}
    .discord-btn{
      padding:8px 16px;border-radius:999px;border:none;
      background:linear-gradient(135deg,#6366f1,#a855f7);
      color:#f9fafb;font-weight:600;font-size:.9rem;
      box-shadow:0 0 18px rgba(129,140,248,.55),0 0 32px rgba(168,85,247,.45);
      cursor:pointer;transition:.15s
    }
    .discord-btn:hover{
      transform:translateY(-1px);
      box-shadow:0 0 25px rgba(129,140,248,.8),0 0 40px rgba(168,85,247,.65);
      background:linear-gradient(135deg,#4f46e5,#8b5cf6)
    }
    .admin-btn{
      padding:7px 14px;border-radius:999px;
      border:1px solid rgba(148,163,184,.5);
      background:radial-gradient(circle at top,rgba(15,23,42,.9),#020617);
      color:rgba(249,250,251,.9);font-size:.85rem;
      display:inline-flex;align-items:center;gap:6px;
      cursor:pointer;transition:.15s
    }
    .admin-btn:hover{
      background:radial-gradient(circle at top,rgba(15,23,42,1),#020617);
      border-color:rgba(248,250,252,.7);
      transform:translateY(-1px);
      box-shadow:0 0 18px rgba(59,130,246,.5)
    }
    .hero{max-width:1100px;margin:0 auto;padding:80px 20px 40px;text-align:center}
    .hero-logo{
      display:inline-flex;align-items:center;justify-content:center;
      padding:6px 18px;border-radius:999px;
      border:1px solid rgba(148,163,184,.55);
      background:radial-gradient(circle at top,rgba(248,250,252,.06),transparent 70%);
      color:rgba(209,213,219,.9);font-size:.75rem;
      letter-spacing:.22em;text-transform:uppercase;margin-bottom:14px
    }
    .hero-title{
      font-size:clamp(2.8rem,5vw,3.4rem);font-weight:900;
      letter-spacing:.16em;text-transform:uppercase;
      color:#f9fafb;margin-bottom:10px;
      text-shadow:0 0 18px rgba(168,85,247,.9),0 0 40px rgba(59,130,246,.8),0 0 65px rgba(34,197,94,.7)
    }
    .hero-subtitle{font-size:1.2rem;margin-bottom:8px;color:rgba(229,231,235,.95)}
    .hero-description{
      max-width:650px;margin:0 auto 26px;
      color:rgba(209,213,219,.82);font-size:1rem
    }
    .cta-buttons{display:flex;justify-content:center;gap:14px;flex-wrap:wrap}
    .btn-primary,.btn-secondary{
      padding:10px 24px;border-radius:999px;border:none;
      font-size:.95rem;font-weight:600;
      display:inline-flex;align-items:center;justify-content:center;
      cursor:pointer;transition:.15s
    }
    .btn-primary{
      background:linear-gradient(135deg,#3b82f6,#a855f7);
      color:#f9fafb;
      box-shadow:0 0 24px rgba(129,140,248,.8),0 0 40px rgba(168,85,247,.7)
    }
    .btn-primary:hover{
      transform:translateY(-1px);
      background:linear-gradient(135deg,#2563eb,#8b5cf6);
      box-shadow:0 0 30px rgba(96,165,250,.9),0 0 48px rgba(168,85,247,.85)
    }
    .btn-secondary{
      background:rgba(15,23,42,.95);
      border:1px solid rgba(148,163,184,.5);
      color:rgba(249,250,251,.9)
    }
    .btn-secondary:hover{
      background:rgba(15,23,42,.7);
      border-color:rgba(248,250,252,.9);
      transform:translateY(-1px);
      box-shadow:0 0 18px rgba(148,163,184,.6)
    }
    .features-section{padding:30px 20px 10px}
    .features-container{max-width:1100px;margin:0 auto}
    .features-title{text-align:center;font-size:1.8rem;font-weight:700;margin-bottom:20px}
    .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
    .feature-item{
      position:relative;background:radial-gradient(circle at top,rgba(15,23,42,.96),#020617);
      border-radius:18px;padding:16px;
      border:1px solid rgba(148,163,184,.45);
      box-shadow:0 18px 35px rgba(15,23,42,.95),0 0 0 1px rgba(15,23,42,.85);
      overflow:hidden;transition:.15s
    }
    .feature-item::before{
      content:"";position:absolute;inset:-1px;
      background:radial-gradient(circle at top left,rgba(56,189,248,.22),transparent 60%);
      opacity:0;transition:.22s
    }
    .feature-item:hover{
      transform:translateY(-3px);
      box-shadow:0 22px 45px rgba(15,23,42,.98),0 0 0 1px rgba(59,130,246,.4);
      border-color:rgba(129,140,248,.7)
    }
    .feature-item:hover::before{opacity:1}
    .feature-icon{
      width:40px;height:40px;border-radius:999px;
      display:flex;align-items:center;justify-content:center;
      background:radial-gradient(circle at top,rgba(56,189,248,.32),rgba(15,23,42,.98));
      margin-bottom:8px;font-size:1.4rem
    }
    .feature-item h3{font-size:1.05rem;margin-bottom:4px}
    .feature-item p{font-size:.9rem;color:rgba(209,213,219,.85)}
    .container{max-width:1100px;margin:40px auto 60px;padding:0 20px}
    .section-title{text-align:center;font-size:1.8rem;font-weight:700;margin-bottom:22px}
    .services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:20px}
    .service-card{
      position:relative;background:radial-gradient(circle at top,rgba(15,23,42,.99),#020617);
      border-radius:22px;padding:18px 16px 16px;
      border:1px solid rgba(148,163,184,.5);
      box-shadow:0 20px 45px rgba(15,23,42,1),0 0 0 1px rgba(15,23,42,.9);
      overflow:hidden;display:flex;flex-direction:column;gap:8px;
      transition:.18s
    }
    .service-card::before{
      content:"";position:absolute;inset:-1px;
      background:
        radial-gradient(circle at top,rgba(59,130,246,.25),transparent 60%),
        radial-gradient(circle at bottom right,rgba(168,85,247,.25),transparent 60%);
      opacity:0;transition:.2s
    }
    .service-card:hover{
      transform:translateY(-4px);
      box-shadow:0 24px 55px rgba(15,23,42,1),0 0 0 1px rgba(59,130,246,.45);
      border-color:rgba(129,140,248,.8)
    }
    .service-card:hover::before{opacity:1}
    .service-card.unavailable .card-mask{opacity:1;pointer-events:auto}
    .card-mask{
      position:absolute;inset:0;
      background:radial-gradient(circle at top,rgba(15,23,42,.95),rgba(15,23,42,.98));
      backdrop-filter:blur(6px);
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      gap:6px;opacity:0;pointer-events:none;transition:.2s
    }
    .card-mask-text{
      font-size:.8rem;letter-spacing:.22em;text-transform:uppercase;
      color:#fecaca;background:rgba(239,68,68,.1);
      border:1px solid rgba(248,113,113,.9);
      border-radius:999px;padding:4px 16px
    }
    .card-mask-title{
      font-size:1.4rem;font-weight:800;letter-spacing:.18em;text-transform:uppercase;
      color:#fee2e2;
      text-shadow:0 0 16px rgba(248,113,113,.8),0 0 32px rgba(239,68,68,.9)
    }
    .card-mask-sub{font-size:.9rem;color:rgba(252,165,165,.85)}
    .service-icon{
      width:46px;height:46px;border-radius:16px;
      display:flex;align-items:center;justify-content:center;
      background:radial-gradient(circle at top,rgba(96,165,250,.45),rgba(15,23,42,.98));
      font-size:1.6rem;margin-bottom:6px;
      box-shadow:0 0 25px rgba(59,130,246,.6)
    }
    .service-title{font-size:1.1rem;font-weight:600}
    .service-price{font-size:1.25rem;font-weight:800;color:#bbf7d0}
    .service-price span{font-size:.9rem;font-weight:500;color:rgba(209,213,219,.9)}
    .service-extra{color:#facc15;font-weight:600;font-size:.9rem;margin:4px 0 6px}
    .service-features{
      list-style:none;margin:4px 0 10px;
      display:flex;flex-direction:column;gap:2px;
      font-size:.9rem;color:rgba(209,213,219,.9)
    }
    .service-features li::before{content:"‚Ä¢ ";color:rgba(52,211,153,.95)}
    .service-btn{
      margin-top:auto;display:inline-flex;align-items:center;justify-content:center;
      padding:9px 14px;border-radius:999px;border:none;
      font-size:.9rem;font-weight:600;
      background:linear-gradient(135deg,#22c55e,#16a34a);
      color:#022c22;cursor:pointer;transition:.15s;text-align:center
    }
    .service-btn:hover{
      transform:translateY(-1px);
      box-shadow:0 0 22px rgba(34,197,94,.85),0 0 34px rgba(22,163,74,.75);
      background:linear-gradient(135deg,#16a34a,#22c55e)
    }
    .rank-card{position:relative}
    .rank-badge{
      position:absolute;top:10px;left:14px;
      padding:4px 10px;border-radius:999px;
      font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;
      font-weight:700;color:#eef2ff;
      background:linear-gradient(135deg,#0ea5e9,#6366f1);
      box-shadow:0 0 16px rgba(59,130,246,.7)
    }
    .admin-overlay{
      position:fixed;inset:0;display:none;
      align-items:center;justify-content:center;
      background:radial-gradient(circle at top,rgba(15,23,42,.96),rgba(15,23,42,.98));
      backdrop-filter:blur(22px);z-index:80
    }
    .admin-overlay.active{display:flex}
    .admin-panel{
      width:min(900px,95vw);max-height:90vh;
      border-radius:22px;
      background:radial-gradient(circle at top,rgba(15,23,42,.98),#020617);
      border:1px solid rgba(148,163,184,.6);
      box-shadow:0 30px 70px rgba(15,23,42,1),0 0 0 1px rgba(30,64,175,.6);
      display:flex;flex-direction:column;overflow:hidden
    }
    .admin-header{
      padding:14px 18px;border-bottom:1px solid rgba(148,163,184,.55);
      display:flex;align-items:center;justify-content:space-between;gap:8px;
      background:linear-gradient(to right,rgba(15,23,42,.95),rgba(30,64,175,.65),rgba(15,23,42,.95))
    }
    .admin-header-left{display:flex;flex-direction:column;gap:2px}
    .admin-title{font-size:1rem;font-weight:700;color:#e5e7eb}
    .admin-subtitle{font-size:.8rem;color:rgba(191,219,254,.9)}
    .btn-close{
      padding:4px 10px;border-radius:999px;
      border:1px solid rgba(191,219,254,.8);
      background:rgba(15,23,42,.9);
      color:#e5e7eb;font-size:.8rem;cursor:pointer;transition:.15s
    }
    .btn-close:hover{
      background:rgba(15,23,42,1);
      transform:translateY(-1px);
      box-shadow:0 0 18px rgba(96,165,250,.7)
    }
    .admin-body{padding:14px 18px 16px;overflow:auto}
    .admin-login{display:flex;flex-direction:column;gap:10px;align-items:flex-start;margin-bottom:10px}
    .admin-login input{
      width:230px;padding:7px 10px;border-radius:10px;
      border:1px solid rgba(148,163,184,.7);
      background:radial-gradient(circle at top,rgba(15,23,42,.98),#020617);
      color:#e5e7eb;font-size:.9rem
    }
    .btn-login{
      padding:7px 14px;border-radius:999px;border:none;
      background:linear-gradient(135deg,#22c55e,#16a34a);
      font-size:.85rem;font-weight:600;color:#022c22;
      cursor:pointer;transition:.15s
    }
    .btn-login:hover{
      transform:translateY(-1px);
      box-shadow:0 0 20px rgba(22,163,74,.7)
    }
    .admin-error{font-size:.8rem;color:#fecaca;min-height:1em}
    .admin-content{display:none;flex-direction:column;gap:12px;margin-top:4px}
    .admin-content.active{display:flex}
    .admin-toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin-bottom:8px}
    .btn-logout{
      padding:6px 12px;border-radius:999px;
      border:1px solid rgba(148,163,184,.5);
      font-size:.8rem;
      background:radial-gradient(circle at top,rgba(15,23,42,.98),#020617);
      color:rgba(249,250,251,.92);cursor:pointer;transition:.15s
    }
    .btn-logout:hover{
      background:rgba(15,23,42,1);
      transform:translateY(-1px);
      box-shadow:0 0 16px rgba(148,163,184,.7)
    }
    .admin-note{font-size:.8rem;color:rgba(191,219,254,.92)}
    .products-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:10px;margin-top:10px}
    .admin-product-card{
      border-radius:14px;border:1px solid rgba(148,163,184,.5);
      padding:10px;background:radial-gradient(circle at top,rgba(15,23,42,.98),#020617);
      display:flex;flex-direction:column;gap:6px;font-size:.85rem;
      box-shadow:0 10px 25px rgba(15,23,42,.95)
    }
    .admin-product-header{display:flex;align-items:center;justify-content:space-between;gap:6px;margin-bottom:2px}
    .admin-product-name{font-weight:600}
    .admin-product-price{font-size:.8rem;color:rgba(167,243,208,.9)}
    .admin-toggles{display:flex;flex-direction:column;gap:4px}
    .admin-toggle-row{display:flex;align-items:center;gap:6px}
    .admin-toggle-row input{width:14px;height:14px}
    .admin-tag{
      display:inline-flex;align-items:center;
      padding:2px 8px;border-radius:999px;
      font-size:.7rem;text-transform:uppercase;letter-spacing:.08em
    }
    .admin-tag-hidden{background:rgba(148,163,184,.16);border:1px solid rgba(148,163,184,.75);color:#e5e7eb}
    .admin-tag-unavailable{background:rgba(239,68,68,.16);border:1px solid rgba(239,68,68,.95);color:#fecaca}
    footer{
      margin-top:40px;padding:14px 20px 20px;
      text-align:center;font-size:.8rem;
      color:rgba(148,163,184,.9);
      border-top:1px solid rgba(30,64,175,.55);
      background:radial-gradient(circle at top,rgba(15,23,42,.96),#020617)
    }
    @media(max-width:640px){
      nav{padding:8px 14px}
      .hero{padding-top:60px}
      .hero-title{letter-spacing:.09em}
    }
  </style>
</head>
<body>
  <div class="admin-overlay" id="adminOverlay">
    <div class="admin-panel">
      <div class="admin-header">
        <div class="admin-header-left">
          <div class="admin-title">Panel administracji QD-STUDIO</div>
          <div class="admin-subtitle">
            Ukrywanie i status ‚ÄûNIEDOSTƒòPNY‚Äù zapisywany globalnie w status.json ‚Äì widzƒÖ wszyscy.
          </div>
        </div>
        <button class="btn-close" id="closeAdmin">Zamknij</button>
      </div>
      <div class="admin-body">
        <div class="admin-login" id="adminLoginBox">
          <label for="adminPassword">Has≈Ço administratora:</label>
          <input type="password" id="adminPassword" placeholder="Wpisz has≈Ço..." />
          <button class="btn-login" id="adminLoginBtn">Zaloguj</button>
          <div class="admin-error" id="adminError"></div>
          <div class="admin-note">
            Has≈Ço jest w kodzie update.php. Panel zapisuje globalny stan produkt√≥w do pliku <code>status.json</code>.
          </div>
        </div>

        <div class="admin-content" id="adminContent">
          <div class="admin-toolbar">
            <button class="btn-logout" id="saveStateBtn">Zapisz zmiany globalnie</button>
            <button class="btn-logout" onclick="logout()">Wyloguj siƒô</button>
          </div>
          <div class="admin-note">
            Zmiany w tym panelu zapisujƒÖ siƒô w <strong>status.json</strong> na serwerze ‚Äì wszyscy zobaczƒÖ ukryte / niedostƒôpne produkty.
          </div>
          <div class="products-grid" id="productsGrid"></div>
        </div>
      </div>
    </div>
  </div>

  <nav>
    <div class="logo">QD-STUDIO</div>
    <div class="nav-links">
      <a href="https://discord.gg/78XUjXCpb" class="discord-btn">Discord</a>
      <button class="admin-btn" id="adminButton">‚öôÔ∏è Admin</button>
    </div>
  </nav>

  <section class="hero">
    <div class="hero-logo">QD-STUDIO</div>
    <h1 class="hero-title">QD-STUDIO</h1>
    <h2 class="hero-subtitle">Przysz≈Ço≈õƒá Twojego Serwera</h2>
    <p class="hero-description">
      Profesjonalne boty Discord, skrypty FiveM, pluginy Minecraft i design nowej generacji. Jedno studio ‚Äì kompletne
      rozwiƒÖzania dla Twojej spo≈Çeczno≈õci.
    </p>
    <div class="cta-buttons">
      <a href="#oferta" class="btn-primary">Zobacz Ofertƒô</a>
      <a href="https://discord.gg/78XUjXCpb" class="btn-secondary">Poznaj Nas</a>
    </div>
  </section>

  <section class="features-section">
    <div class="features-container">
      <h2 class="features-title">Co robimy?</h2>
      <div class="features-grid">
        <div class="feature-item">
          <div class="feature-icon">ü§ñ</div>
          <h3>Boty Discord</h3>
          <p>Autorskie boty z ekonomiƒÖ, grami, moderacjƒÖ, logami i panelami administracyjnymi dopasowanymi do Twojego serwera.</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">üéÆ</div>
          <h3>Skrypty FiveM</h3>
          <p>Skrypty ESX/QBCore, jobs, gangi, systemy ekonomii i UI/UX na najwy≈ºszym poziomie.</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">‚õèÔ∏è</div>
          <h3>Pluginy Minecraft</h3>
          <p>Dedykowane pluginy Spigot/Paper/Bukkit, minigry, systemy i pe≈Çna optymalizacja wydajno≈õci.</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">üõ°Ô∏è</div>
          <h3>Bezpiecze≈Ñstwo</h3>
          <p>Anty-nuke, anty-raid, whitelist, backupy, logi ‚Äì wszystko, ≈ºeby Tw√≥j serwer by≈Ç bezpieczny.</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">üé®</div>
          <h3>Konfiguracje</h3>
          <p>Budowa serwer√≥w Discord od zera: role, kana≈Çy, permisje, automatyzacje i estetyczny uk≈Çad.</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">‚ö°</div>
          <h3>Wsparcie 24/7</h3>
          <p>Szybki support, poprawki i dalszy rozw√≥j projektu. Serwer zawsze pod opiekƒÖ.</p>
        </div>
      </div>
    </div>
  </section>

  <div class="container" id="oferta">
    <h2 class="section-title">Nasze Us≈Çugi</h2>
    <div class="services-grid" id="servicesGrid"></div>

    <h2 class="section-title" style="margin-top:80px;">üíé Rangi Premium</h2>
    <p style="text-align:center;color:rgba(255,255,255,.65);font-size:1.05rem;margin-bottom:40px;">
      Wybierz rangƒô i odbieraj ekskluzywne korzy≈õci na serwerze Discord QD-STUDIO.
    </p>
    <div class="services-grid" id="ranksGrid"></div>
  </div>

  <footer>
    ¬© <span id="year"></span> QD-STUDIO ‚Äì Boty, skrypty, konfiguracje i design dla Twojego serwera.
  </footer>

  <script>
    const ADMIN_PASSWORD = "qd-admin-2025"; // to samo co w update.php
    const STATUS_URL = "get.php";
    const UPDATE_URL = "update.php";

    const PRODUCTS = [
      {id:"product-1",type:"service",title:"Podstawowa Konfiguracja",icon:"üîß",price:"15-30",currency:"z≈Ç",
       features:["Bot z podstawowymi funkcjami","Moderacja i muzyka","Konfiguracja pod serwer","Wsparcie 48h"],
       cta:"Zam√≥w Teraz"},
      {id:"product-2",type:"service",title:"Pakiet Serwer DC",icon:"üöÄ",price:"25-50",currency:"z≈Ç",
       features:["Pe≈Çna konfiguracja serwera","Wszystkie boty + backup","Role, kana≈Çy, permisje","Bonus: banner + ikona"],
       cta:"Wybierz Pakiet"},
      {id:"product-3",type:"service",title:"Bot Autorski",icon:"‚ú®",price:"40-130",currency:"z≈Ç",
       features:["Napisany od podstaw","Ekonomia, gry, API","Panel web (opcja)","Pe≈Çne prawa + kod"],
       cta:"Zapytaj o Szczeg√≥≈Çy"},
      {id:"product-4",type:"service",title:"Bot Anty-Nuke",icon:"üõ°Ô∏è",price:"10",currency:"z≈Ç",
       features:["Ochrona przed raid/nuke","Anty-usuwanie kana≈Ç√≥w i r√≥l","Whitelist w≈Ça≈õciciela","Backup + logi","Slash komendy","Podstawowa ochrona"],
       extra:"‚ö† Licencja na 1 serwer Discord",cta:"üîí Zabezpiecz Teraz"},
      {id:"product-5",type:"service",title:"W≈Çasna Strona WWW",icon:"üåê",price:"15-25",currency:"z≈Ç",
       features:["Nowoczesny design","Responsywny layout","Szybkie ≈Çadowanie","Pe≈Çna personalizacja","Hosting w cenie (opcja)"],
       cta:"Zam√≥w Stronƒô"},
      {id:"product-6",type:"service",title:"Pluginy Minecraft",icon:"‚õèÔ∏è",price:"15-25",currency:"z≈Ç",
       features:["Pluginy na zam√≥wienie","Spigot / Paper / Bukkit","Ekonomia, minigry, systemy","Optymalizacja wydajno≈õci","Pe≈Çna dokumentacja"],
       cta:"Zam√≥w Plugin"},
      {id:"product-7",type:"service",title:"Skrypt FiveM",icon:"üéÆ",price:"50-150",currency:"z≈Ç",
       features:["Skrypty ESX / QBCore","Jobs, gangi, systemy","UI/UX na najwy≈ºszym poziomie","Optymalizacja MS","Support + aktualizacje"],
       cta:"Zapytaj o Wycene"},
      {id:"product-9",type:"rank",title:"Ranga Premium",icon:"üíé",price:"20",currency:"z≈Ç",
       features:["üìÅ Dostƒôp do kana≈Çu WYK≈ÅY","üîå Dostƒôp do PLUGINY-PREMIUM","üé≠ Dostƒôp do SKRYPTY-PREMIUM","üåê Dostƒôp do STRONY-WWW-PREMIUM","‚ö° Priorytetowy support","üé® Ekskluzywny kolor roli"],
       cta:"Kup Premium",badge:"üíé PREMIUM",badgeStyle:""},
      {id:"product-10",type:"rank",title:"Ranga Premium Plus",icon:"‚ú®",price:"25",currency:"z≈Ç",
       features:["‚úÖ Wszystko z rangi Premium","üéÅ Dostƒôp do PREMIUM DROP","üöÄ Dostƒôp do JAK-OTRZYMAƒÜ-PREMIUM","üéØ Wczesny dostƒôp do nowo≈õci","üí¨ Prywatny kana≈Ç support VIP","üèÜ Badge \"Premium+\" na profilu"],
       cta:"Kup Premium+",badge:"‚ú® PREMIUM+",badgeStyle:"background:linear-gradient(135deg,#00ffff,#ff00ff);"},
      {id:"product-11",type:"rank",title:"Ranga Premium Ultra",icon:"üëë",price:"30",currency:"z≈Ç",
       features:["‚úÖ Wszystko z rangi Premium+","üé™ Dedykowany kana≈Ç g≈Çosowy","üé® Mo≈ºliwo≈õƒá customowego koloru roli","‚ö° 24/7 priorytetowy support","üéÅ Dostƒôp do PREMIUM DROP","üëë Ekskluzywny badge \"Ultra\""],
       cta:"Kup Ultra",badge:"üëë ULTRA",badgeStyle:"background:linear-gradient(135deg,#fbbf24,#f59e0b);"}
    ];

    let globalState = {}; // wczytane z status.json
    let adminState = {};  // robocza kopia w panelu

    async function fetchStatus() {
      try {
        const res = await fetch(STATUS_URL);
        const data = await res.json();
        globalState = data || {};
      } catch (e) {
        globalState = {};
      }
    }

    function getProductState(id) {
      if (!globalState[id]) return {hidden:false,unavailable:false};
      return {
        hidden: !!globalState[id].hidden,
        unavailable: !!globalState[id].unavailable
      };
    }

    function renderPublicProducts() {
      const servicesGrid = document.getElementById("servicesGrid");
      const ranksGrid = document.getElementById("ranksGrid");
      servicesGrid.innerHTML = "";
      ranksGrid.innerHTML = "";

      PRODUCTS.forEach(p => {
        const state = getProductState(p.id);

        if (state.hidden) return; // ukryty globalnie - nikt nie widzi

        const card = document.createElement("div");
        card.classList.add("service-card");
        if (state.unavailable) card.classList.add("unavailable");
        if (p.type === "rank") card.classList.add("rank-card");

        let badgeHtml = "";
        if (p.type === "rank" && p.badge) {
          const style = p.badgeStyle || "";
          badgeHtml = `<div class="rank-badge" style="${style}">${p.badge}</div>`;
        }

        const featuresHtml = p.features.map(f => `<li>${f}</li>`).join("");
        const extraHtml = p.extra ? `<p class="service-extra">${p.extra}</p>` : "";

        card.innerHTML = `
          ${badgeHtml}
          <div class="card-mask">
            <div class="card-mask-text">STATUS</div>
            <div class="card-mask-title">NIEDOSTƒòPNY</div>
            <div class="card-mask-sub">Us≈Çuga chwilowo wstrzymana. Napisz na Discordzie po wiƒôcej informacji.</div>
          </div>
          <div class="service-icon">${p.icon}</div>
          <h3 class="service-title">${p.title}</h3>
          <div class="service-price">${p.price}<span> ${p.currency}</span></div>
          ${extraHtml}
          <ul class="service-features">
            ${featuresHtml}
          </ul>
          <a href="https://discord.gg/78XUjXCpb" class="service-btn">${p.cta}</a>
        `;

        if (p.type === "service") servicesGrid.appendChild(card);
        else ranksGrid.appendChild(card);
      });
    }

    function renderAdminProducts() {
      const grid = document.getElementById("productsGrid");
      grid.innerHTML = "";

      PRODUCTS.forEach(p => {
        const state = adminState[p.id] || {hidden:false,unavailable:false};

        const card = document.createElement("div");
        card.classList.add("admin-product-card");

        const header = document.createElement("div");
        header.classList.add("admin-product-header");

        const name = document.createElement("div");
        name.classList.add("admin-product-name");
        name.textContent = `${p.icon} ${p.title}`;

        const price = document.createElement("div");
        price.classList.add("admin-product-price");
        price.textContent = `${p.price} ${p.currency}`;

        header.appendChild(name);
        header.appendChild(price);
        card.appendChild(header);

        const toggles = document.createElement("div");
        toggles.classList.add("admin-toggles");

        const rowHidden = document.createElement("label");
        rowHidden.classList.add("admin-toggle-row");
        const cbHidden = document.createElement("input");
        cbHidden.type = "checkbox";
        cbHidden.checked = state.hidden;
        rowHidden.appendChild(cbHidden);
        rowHidden.appendChild(document.createTextNode("Ukryj produkt (GLOBALNIE)"));

        const rowUnavailable = document.createElement("label");
        rowUnavailable.classList.add("admin-toggle-row");
        const cbUnavailable = document.createElement("input");
        cbUnavailable.type = "checkbox";
        cbUnavailable.checked = state.unavailable;
        rowUnavailable.appendChild(cbUnavailable);
        rowUnavailable.appendChild(document.createTextNode("Na≈Ç√≥≈º overlay NIEDOSTƒòPNY (GLOBALNIE)"));

        cbHidden.addEventListener("change", () => {
          adminState[p.id] = {hidden:cbHidden.checked,unavailable:cbUnavailable.checked};
        });
        cbUnavailable.addEventListener("change", () => {
          adminState[p.id] = {hidden:cbHidden.checked,unavailable:cbUnavailable.checked};
        });

        toggles.appendChild(rowHidden);
        toggles.appendChild(rowUnavailable);
        card.appendChild(toggles);

        const tagsRow = document.createElement("div");
        tagsRow.style.display = "flex";
        tagsRow.style.flexWrap = "wrap";
        tagsRow.style.gap = "4px";
        tagsRow.style.marginTop = "4px";

        if (state.hidden) {
          const t = document.createElement("span");
          t.classList.add("admin-tag","admin-tag-hidden");
          t.textContent = "UKRYTY (GLOBALNIE)";
          tagsRow.appendChild(t);
        }
        if (state.unavailable) {
          const t2 = document.createElement("span");
          t2.classList.add("admin-tag","admin-tag-unavailable");
          t2.textContent = "NIEDOSTƒòPNY (GLOBALNIE)";
          tagsRow.appendChild(t2);
        }

        if (tagsRow.children.length > 0) card.appendChild(tagsRow);

        grid.appendChild(card);
      });
    }

    async function saveGlobalState() {
      const formData = new FormData();
      formData.append("password", ADMIN_PASSWORD);
      formData.append("data", JSON.stringify(adminState));

      const res = await fetch(UPDATE_URL, {
        method: "POST",
        body: formData
      });

      if (!res.ok) {
        alert("B≈ÇƒÖd zapisu (sprawd≈∫ update.php i uprawnienia pliku status.json).");
        return;
      }
      const data = await res.json();
      if (!data.ok) {
        alert("B≈ÇƒÖd zapisu: " + (data.error || "nieznany b≈ÇƒÖd"));
        return;
      }
      globalState = JSON.parse(JSON.stringify(adminState));
      renderPublicProducts();
      alert("Zapisano globalny stan produkt√≥w.");
    }

    const adminOverlay = document.getElementById("adminOverlay");
    const adminButton = document.getElementById("adminButton");
    const closeAdmin = document.getElementById("closeAdmin");
    const adminLoginBox = document.getElementById("adminLoginBox");
    const adminContent = document.getElementById("adminContent");
    const adminLoginBtn = document.getElementById("adminLoginBtn");
    const adminPasswordInput = document.getElementById("adminPassword");
    const adminError = document.getElementById("adminError");
    const saveStateBtn = document.getElementById("saveStateBtn");

    let isLoggedIn = false;

    function openAdmin() {
      adminOverlay.classList.add("active");
      if (!isLoggedIn) {
        adminLoginBox.style.display = "flex";
        adminContent.classList.remove("active");
      } else {
        adminLoginBox.style.display = "none";
        adminContent.classList.add("active");
        adminState = JSON.parse(JSON.stringify(globalState));
        renderAdminProducts();
      }
    }

    function closeAdminPanel() {
      adminOverlay.classList.remove("active");
    }

    function logout() {
      isLoggedIn = false;
      adminContent.classList.remove("active");
      adminLoginBox.style.display = "flex";
      adminPasswordInput.value = "";
      adminError.textContent = "";
    }

    adminButton.addEventListener("click", openAdmin);
    closeAdmin.addEventListener("click", closeAdminPanel);

    adminLoginBtn.addEventListener("click", () => {
      const pwd = adminPasswordInput.value.trim();
      if (pwd === ADMIN_PASSWORD) {
        isLoggedIn = true;
        adminError.textContent = "";
        adminLoginBox.style.display = "none";
        adminContent.classList.add("active");
        adminState = JSON.parse(JSON.stringify(globalState));
        renderAdminProducts();
      } else {
        adminError.textContent = "Niepoprawne has≈Ço.";
      }
    });

    adminPasswordInput.addEventListener("keydown", e => {
      if (e.key === "Enter") adminLoginBtn.click();
    });

    saveStateBtn.addEventListener("click", () => {
      saveGlobalState().catch(() => {
        alert("B≈ÇƒÖd po≈ÇƒÖczenia z update.php");
      });
    });

    document.getElementById("year").textContent = new Date().getFullYear();

    (async () => {
      await fetchStatus();
      renderPublicProducts();
    })();
  </script>
</body>
</html>
